<!-- Modal para Agregar Producto -->
<div *ngIf="nuevoProducto" class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl relative">
    <!-- Título del modal -->
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Agregar Producto</h2>

    <!-- Formulario -->
    <form (ngSubmit)="agregarProducto()">
      <!-- Campo para subir la foto -->
      <div class="mb-6 flex flex-col items-center">
        <input type="file"  (change)="onFileSelected($event)"  id="file-input-upload" class="hidden"  accept="image/*"  required />
        <label 
          for="file-input-upload" 
          class="w-full h-36 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition duration-200">
          <img src="assets/images/Agregar.jpg" alt="imagen referente" class="h-12 mb-2 opacity-70 hover:opacity-100 transition duration-200" />
          <span class="text-gray-600 text-sm">Seleccionar imagen</span>
        </label>
      </div>

      <!-- Campos del producto -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Código del Producto -->
        <div>
          <label for="code_product" class="block text-sm font-medium text-gray-700 mb-1">Código del Producto</label>
          <input 
            [(ngModel)]="nuevoProducto.codeProduct" 
            id="code_product" 
            name="code_product" 
            required 
            class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
            placeholder="Ingresa el código"
          />
        </div>

  <!-- Nombre del Producto -->
  <div>
    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nombre del Producto</label>
    <input 
      [(ngModel)]="nuevoProducto.name" 
      id="name" 
      name="name" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Ingresa el nombre" 
    />
  </div>

  <!-- Precio de Compra -->
  <div>
    <label for="purchase_price" class="block text-sm font-medium text-gray-700 mb-1">Precio de Compra</label>
    <input 
      type="number" 
      step="0.01" 
      [(ngModel)]="nuevoProducto.purchasePrice" 
      id="purchase_price" 
      name="purchase_price" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Precio de compra" 
    />
  </div>

  <!-- Descripción -->
  <div class="col-span-full">
    <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
    <textarea 
      [(ngModel)]="nuevoProducto.description" 
      id="description" 
      name="description" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Descripción del producto"
    ></textarea>
  </div>

  <!-- Proveedor -->
  <div>
    <label for="supplier_id" class="block text-sm font-medium text-gray-700 mb-1">Proveedor</label>
    <input 
      [(ngModel)]="nuevoProducto.supplierId" 
      id="supplier_id" 
      name="supplier_id" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Nombre del proveedor" 
    />
  </div>

  <!-- Categoría -->
  <div>
    <label for="categories_products_id" class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
    <input 
      [(ngModel)]="nuevoProducto.categoriesProductsId" 
      id="categories_products_id" 
      name="categories_products_id" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Nombre de la categoría" 
    />
  </div>

  <!-- Precio de Venta -->
  <div>
    <label for="sale_price" class="block text-sm font-medium text-gray-700 mb-1">Precio de Venta</label>
    <input 
      type="number" 
      step="0.01" 
      [(ngModel)]="nuevoProducto.salePrice" 
      id="sale_price" 
      name="sale_price" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Precio de venta" 
    />
  </div>

  
  <!-- Cantidad en Stock -->
  <div>
    <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Cantidad en Stock</label>
    <input 
      type="number" 
      [(ngModel)]="nuevoProducto.amount" 
      id="amount" 
      name="amount" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Cantidad disponible" 
    />
  </div>

  <!-- Tipo -->
  <div>
    <label for="type" class="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
    <input 
      [(ngModel)]="nuevoProducto.type" 
      id="type" 
      name="type" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Tipo de producto" 
    />
  </div>
  <!-- Fecha de Ingreso -->
  <div>
    <label for="fechaIngreso" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Ingreso</label>
    <input 
      [(ngModel)]="nuevoProducto.fechaIngreso" 
      id="fechaIngreso" 
      name="fechaIngreso" 
      required 
      class="border border-gray-300 rounded-md w-full p-2 focus:ring-blue-500 focus:border-blue-500" 
      placeholder="Fecha de ingreso"
      type="date"
    />
  </div>
</div>



      <!-- Botones de acción -->
      <div class="flex justify-end mt-6">
        <button 
  type="submit" 
  [disabled]="!nuevoProducto.name || !nuevoProducto.description || !nuevoProducto.codeProduct"
  class="bg-green-600 text-white font-semibold rounded-md py-2 px-4 hover:bg-green-700 transition duration-200"
>
  Agregar
</button>
        <button (click)="cerrar()" type="button" class="bg-gray-300 text-gray-800 font-semibold rounded-md py-2 px-4 hover:bg-gray-400 transition duration-200 ml-2">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
