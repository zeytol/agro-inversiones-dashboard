<div *ngIf="loading" class="flex justify-center items-center h-64">
    <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"></div>
  </div>
  
  <div *ngIf="!loading && users.length > 0" class="p-6">
    <div class="overflow-x-auto">
      <table class="w-full rounded-lg overflow-hidden shadow-lg">
        <thead class="bg-blue-100 text-blue-800">
          <tr>
            <th class="px-4 py-3 text-left">Photo</th>
            <th class="px-4 py-3 text-left">Username</th>
            <th class="px-4 py-3 text-left">Email</th>
            <th class="px-4 py-3 text-left">Phone</th>
            <th class="px-4 py-3 text-left">Status</th>
            <th class="px-4 py-3 text-left">Roles</th>
            <th class="px-4 py-3 text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users" class="border-b hover:bg-gray-50 transition-colors duration-200">
            <td class="px-4 py-3">
              <img [src]="user.photo" alt="{{ user.username }}" class="w-12 h-12 rounded-full object-cover border-2 border-blue-300" />
            </td>
            <td class="px-4 py-3 font-medium text-gray-800">{{ user.username }}</td>
            <td class="px-4 py-3 text-gray-600">{{ user.email }}</td>
            <td class="px-4 py-3 text-gray-600">{{ user.phone }}</td>
            <td class="px-4 py-3">
              <span class="px-3 py-1 rounded-full text-sm font-semibold" 
                    [ngClass]="{'bg-green-100 text-green-800': user.status === 'Active', 'bg-red-100 text-red-800': user.status === 'Inactive'}">
                {{ user.status }}
              </span>
            </td>
            <td class="px-4 py-3 text-gray-600">{{ user.modules.join(', ') }}</td>
            <td class="px-4 py-3 flex justify-center space-x-2">
              <button (click)="editUser.emit(user)" class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1.5 rounded-lg transition-colors duration-300">
                Edit
              </button>
              <button (click)="viewRoles.emit(user)" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-lg transition-colors duration-300">
                Roles
              </button>
              <button (click)="deleteUser.emit(user)" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-lg transition-colors duration-300">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  