<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
/>
<div
  class="min-h-screen bg-gray-100 flex items-center justify-center bg-cover bg-center"
  style="background-image: url('/img/agro.png')"
>
  <div class="w-full max-w-5xl mx-4">
    <div class="bg-white bg-opacity-90 flex flex-col md:flex-row h-[80vh]">
      <div class="w-full md:w-1/2 p-8 flex flex-col justify-center items-center">
        <div class="text-center mb-6">
          <h1 class="text-3xl font-bold mb-6">Iniciar Sesión</h1>
        </div>

        <form class="space-y-4 w-full" (ngSubmit)="onSubmit()" #loginForm="ngForm">
          <div>
            <input
              type="text"
              id="username"
              [(ngModel)]="loginData.username"
              name="username"
              placeholder="Ingrese su correo "
              class="w-full px-4 py-3 border border-black bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              required
              #usernameField="ngModel"
            />
            <div *ngIf="usernameField.invalid && usernameField.touched" class="text-red-500">
              El usuario es requerido.
            </div>
          </div>

          <div class="relative">
            <input
              [type]="loginData.rememberMe ? 'text' : 'password'"
              id="password"
              [(ngModel)]="loginData.password"
              name="password"
              placeholder="Contraseña"
              class="w-full px-4 py-3 border border-black bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              required
              #passwordField="ngModel"
            />
            <button
              type="button"
              class="absolute right-4 top-1/2 transform -translate-y-1/2"
              (click)="loginData.rememberMe = !loginData.rememberMe"
            >
              <i [class]="loginData.rememberMe ? 'fas fa-eye' : 'fas fa-eye-slash'"></i>
            </button>

            <!-- Mensaje de error para el campo password -->
            <div *ngIf="passwordField.invalid && passwordField.touched" class="text-red-500">
              La contraseña es requerida.
            </div>
          </div>

          <!-- Mensaje de error general -->
          <div *ngIf="errorMessage" class="text-red-500 text-center">
            {{ errorMessage }}
          </div>

          <button
            type="submit"
            class="w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition duration-200 ease-in-out"
            [disabled]="loginForm.invalid"
          >
            <span>Iniciar Sesión</span>
          </button>

          <div class="text-center mt-4">
            <span class="text-gray-600">¿No tienes una cuenta? </span>
            <a routerLink="/register" class="text-blue-600 hover:text-blue-700">
              Crear Cuenta
            </a>
          </div>
        </form>
      </div>

      <div class="hidden md:flex md:w-1/2 h-full">
        <img
          src="https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80"
          alt="Jardín del Edén Logo"
          class="w-full h-full object-cover"
        />
      </div>
    </div>
  </div>
</div>
